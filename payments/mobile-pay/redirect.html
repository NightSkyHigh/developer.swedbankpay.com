


<!DOCTYPE html>
<html lang="en-US">

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#000">
        <meta name="application-name" content="Swedbank Pay MobilePay Online Payments – Redirect">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title"
            content="Swedbank Pay MobilePay Online Payments – Redirect">
        <meta name="msapplication-TileColor" content="#000">
        <meta name="msapplication-TileImage" content="https://design.swedbankpay.com/v/4.5.0/icons/mstile-144x144.png">
        <meta property="og:type" value="website" />
        
        <meta property="og:url" value="https://developer.swedbankpay.com/payments/mobile-pay/redirect.html" />
        <meta property="og:title" value="Swedbank Pay MobilePay Online Payments – Redirect" />
        <meta name="title" content="Swedbank Pay MobilePay Online Payments – Redirect" />
        
        <meta property="og:description" value="Swedbank Pay Developer Portal" />
        <meta name="description" content="Swedbank Pay Developer Portal" />
        
        <meta property="og:image" value="/assets/img/swedbank-pay-developer-portal.png" />
        <title>Swedbank Pay MobilePay Online Payments – Redirect</title>
        <link rel="stylesheet" href="https://design.swedbankpay.com/v/4.5.0/styles/dg-style.css" />
        <link rel="stylesheet" href="/assets/css/swedbank-pay-design-guide-theme.css" />
        <link rel="stylesheet" href="/assets/css/pygments-autumn.css" />
        <link rel="shortcut icon" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon.ico">
        <link rel="icon" type="image/png" sizes="16x16" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon-16x16.png">
        <link rel="icon" type="image/png" sizes="32x32" href="https://design.swedbankpay.com/v/4.5.0/icons/favicon-32x32.png">
        <link rel="apple-touch-icon" sizes="57x57"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon" sizes="60x60"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-60x60.png">
        <link rel="apple-touch-icon" sizes="72x72"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon" sizes="76x76"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-76x76.png">
        <link rel="apple-touch-icon" sizes="114x114"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon" sizes="120x120"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon" sizes="144x144"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon" sizes="152x152"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-152x152.png">
        <link rel="apple-touch-icon" sizes="167x167"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-167x167.png">
        <link rel="apple-touch-icon" sizes="180x180"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-180x180.png">
        <link rel="apple-touch-icon" sizes="1024x1024"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-icon-1024x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-320x460.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-640x920.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-640x1096.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-750x1294.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1182x2208.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1242x2148.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-748x1024.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-768x1004.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1496x2048.png">
        <link rel="apple-touch-startup-image"
            media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)"
            href="https://design.swedbankpay.com/v/4.5.0/icons/apple-touch-startup-image-1536x2008.png">
        <link rel="icon" type="image/png" sizes="228x228" href="https://design.swedbankpay.com/v/4.5.0/icons/coast-228x228.png">
        <script src="/assets/js/mermaid.min.js"></script>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
        <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
        <script src="/assets/tipuesearch/tipuesearch.min.js"></script>
        
    </head>

    <body>
        <div id="designguide">
            <header class="topbar topbar-md-wide designguide-header">
                <button type="button" class="topbar-btn"><i class="material-icons topbar-btn-icon">menu</i></button>
                <a href="https://developer.swedbankpay.com" class="topbar-logo"><img
                        src="https://design.swedbankpay.com/v/4.5.0/img/swedbankpay-logo.svg" alt="logo"></a>
                <nav class="topbar-nav">
                    <div class="topbar-link-container">
                        <button type="button" class="topbar-close"><i class="material-icons">close</i></button>

                        
                        

                        

                        <a 
                            href="/"><span>Home</span></a>

                        
                        
                        <a 
                            href="/checkout/"><span>Checkout</span></a>
                        
                        
                        <a 
                            href="/payments/"><span>Payments</span></a>
                        
                        
                        <a 
                            href="/resources/"><span>Resources</span></a>
                        

                        <div class="topbar-info topbar-link-right">
                            <div class="topbar-info-contact">
                                <a href="https://github.com/SwedbankPay/developer.swedbankpay.com/tree/develop/payments/mobile-pay/redirect.md" target="_blank"
                                    rel="noopener noreferrer" title="Edit this page on GitHub">
                                    <svg aria-labelledby="simpleicons-github-icon" role="img" viewBox="0 0 24 24"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <title id="simpleicons-github-icon">Edit this page on GitHub</title>
                                        <path
                                            d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" />
                                    </svg>
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>
            </header>

            <div class="documentation">
                <div class="row">
                    <div class="col-xxl-2 col-md-3">
                        <div class="doc-sidebar">
                            
                            <form class="doc-search" action="/search">
                                <input type="text" class="form-control" name="q" id="tipue_search_input"
                                    placeholder="Search..." autocomplete="off" pattern=".{3,}"
                                    title="At least 3 characters">
                            </form>
                            
                            
                            <nav class="documentation-nav">
                                
                                
                                <div class="nav-group active">
                                    <div class="nav-heading">
                                        <i class="material-icons">keyboard_arrow_right</i>
                                        <span>MobilePay Online Payments</span>
                                    </div>

                                    
                                    <ul>
                                        
                                        
                                        <li><a  href="/payments/mobile-pay"><span>Introduction</span></a></li>
                                        
                                        
                                        <li><a  aria-current="page" class="active"
                                                 href="/payments/mobile-pay/redirect"><span>Redirect</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/mobile-pay/after-payment"><span>After Payment</span></a></li>
                                        
                                        
                                        <li><a  href="/payments/mobile-pay/other-features"><span>Other Features</span></a></li>
                                        
                                    </ul>
                                    
                                </div>
                                
                            </nav>
                            
                        </div>
                    </div>

                    <main class="doc-view col-xxl-10 col-md-9">
                        <div class="doc-container">
                            <h1>Swedbank Pay MobilePay Online Payments – Redirect</h1>
                            <div class="row">
                                <div class="doc-body col-lg-10">
                                    
                                    <div class="jumbotron">
    <p><strong>MobilePay Online Payments</strong> is a two-phase payment
instrument which can be implemented by the supported redirect scenario.
Swedbank Pay receives the MobilePay details from the payer through Swedbank Pay
Payments. The payment will then be performed by Swedbank Pay and
confirmed by the payer through the MobilePay app.</p>

</div>
      <h2 id="mobilepay-redirect-integration-flow">
        
        
          MobilePay redirect integration flow <a href="#mobilepay-redirect-integration-flow" class="header-anchor"></a>
        
        
      </h2>

<ul>
  <li>When you have prepared your merchant/webshop site, you make a <code class="language-html highlighter-rouge">POST</code> request
towards Swedbank Pay with your Purchase information.</li>
  <li>You will receive a Redirect URL, leading to a secure Swedbank Pay hosted
environment, in response.</li>
  <li>You need to redirect the browser of the end-user/consumer to that URL so
that the user may enter their MobilePay details.</li>
  <li>When the payment is completed, Swedbank Pay will redirect the browser back
to your merchant/webshop site.</li>
  <li>Finally you need to make a <code class="language-html highlighter-rouge">GET</code> request towards Swedbank Pay with the
<code class="language-html highlighter-rouge">paymentID</code> received in the first step, which will return the purchase result.</li>
</ul>

<p><img src="/assets/img/mobilepay-screenshot-1.png" alt="mobilepay enter number" /></p>

<p><img src="/assets/img/mobilepay-screenshot-2.png" alt="mobilepay approve payment" /></p>

<div class="alert  alert-success">
    
        
            <i class="material-icons alert-icon">link</i>
        
    

    
        
            <p><strong>Defining
<code class="language-html highlighter-rouge">callbackUrl</code></strong>: When implementing a scenario, it is strongly recommended to set
a <code class="language-html highlighter-rouge">callbackUrl</code> in the <code class="language-html highlighter-rouge">POST</code> request. If <code class="language-html highlighter-rouge">callbackUrl</code> is set, Swedbank Pay
will send a <code class="language-html highlighter-rouge">POST</code> request to this URL when the consumer has fulfilled the
payment.</p>
        
    
</div>
    
      <h2 id="step-1-create-a-purchase">
        
        
          Step 1: Create a Purchase <a href="#step-1-create-a-purchase" class="header-anchor"></a>
        
        
      </h2>

<p>When the payer starts the purchase process, you make a <code class="language-html highlighter-rouge">POST</code> request towards
Swedbank Pay with the collected Purchase information. This will generate a
payment with a unique <code class="language-html highlighter-rouge">id</code>. See the <code class="language-html highlighter-rouge">POST</code>request example below.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
</pre></td><td class="rouge-code"><pre><span class="nf">POST</span> <span class="nn">/psp/mobilepay/payments</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DKK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visa"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MasterCard"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
                </span><span class="nl">"vatAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"FeeAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"da-DK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"hostUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"https://example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https://example.net"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"completeUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-completed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"cancelUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-canceled"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/payment-callback"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"payeeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5cabf558-5283-482f-b252-4d58e06f6f3b"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CD1234"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"payeeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"productCategory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"or-12456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"subsite"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MySubsite"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"prefillInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"msisdn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+4522222222"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"mobilepay"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"shoplogoUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://example.com/shop-logo.png"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Required</th>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Data type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The payment object.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">operation</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Purchase</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">intent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Authorization</code></td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">currency</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">NOK</code>, <code class="language-html highlighter-rouge">SEK</code>, <code class="language-html highlighter-rouge">DKK</code>, <code class="language-html highlighter-rouge">USD</code> or <code class="language-html highlighter-rouge">EUR</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The prices object.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">type</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Visa</code> (for card type Visa), <code class="language-html highlighter-rouge">MC</code> (for card type Mastercard)</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">amount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount (including VAT, if any) to charge the payer, entered in the lowest monetary unit of the selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> DKK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> DKK.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">vatAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The amount of VAT to charge the payer, entered in the lowest monetary unit ofthe selected currency. E.g.: <strong><code class="language-html highlighter-rouge">10000</code></strong> = <code class="language-html highlighter-rouge">100.00</code> DKK, <strong><code class="language-html highlighter-rouge">5000</code></strong> = <code class="language-html highlighter-rouge">50.00</code> DKK. If the <code class="language-html highlighter-rouge">amount</code> given includes VAT, <code class="language-html highlighter-rouge">vatAmount</code> may be displayed for the user inthe payment page (redirect only). Set to <code class="language-html highlighter-rouge">0</code> (zero) if there is no VAT amount charged.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">feeAmount</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">If the amount given includes Fee, this may be displayed for the user in the payment page (redirect only).</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payments/mobile-pay/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The user agent reference of the consumer’s browser - <a href="https://en.wikipedia.org/wiki/User_agent">see user agent definition</a></td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code>, <code class="language-html highlighter-rouge">da-DK</code>, <code class="language-html highlighter-rouge">fi-FI</code> or <code class="language-html highlighter-rouge">ee-EE</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The URLs object containing the urls used for this payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">completeUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the payment page is completed. This does not indicate a successful payment, only that it has reached a completion state. A <code class="language-html highlighter-rouge">GET</code> request needs to be performed on the payment to inspect it further.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">cancelUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will redirect back to when the user presses the cancel button in the payment page.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">callbackUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI that Swedbank Pay will perform an HTTP <code class="language-html highlighter-rouge">POST</code> against every time a transaction is created on the payment. See <a href="/payments/mobile-pay/other-features#callback">callback</a> for details.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">This object contains the identificators of the payee of this payment.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeId</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">This is the unique id that identifies this payee (like merchant) set by Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"><i class="material-icons">check</i></td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(50)</code></td>
      <td style="text-align: left">A unique reference from the merchant system. Read more about <a href="/payments/mobile-pay/other-features#payee-reference"><code class="language-html highlighter-rouge">payeeReference</code></a></td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">payeeName</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The payee name (like merchant name) that will be displayed to consumer when redirected to Swedbank Pay.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">productCategory</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">A product category or number sent in from the payee/merchant. This is not validated by Swedbank Pay, but will be passed through the payment process and may be used in the settlement process.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">orderReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String(50)</code></td>
      <td style="text-align: left">The order reference should reflect the order reference found in the merchant’s systems.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">subsite</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">String(40)</code></td>
      <td style="text-align: left">The subsite field can be used to perform split settlement on the payment. The subsites must be resolved with Swedbank Pay reconciliation before being used.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prefillInfo.msisdn</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">umber will be prefilled on payment page, if valid.</td>
    </tr>
    <tr>
      <td style="text-align: left"> </td>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">mobilepay.shoplogoUrl</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">URI to logo that will be visible at MobilePay</td>
    </tr>
  </tbody>
</table>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">75100000121</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-11T10:58:27.4236127Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-11T10:58:30.8254419Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrument"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MobilePay"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DKK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">3000</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/7.2.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"da-DK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeinfo"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/mobilepay/payments/authorize/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h2 id="step-2-get-the-transaction-status">
        
        
          Step 2: Get the transaction status <a href="#step-2-get-the-transaction-status" class="header-anchor"></a>
        
        
      </h2>

<p>Finally you need to make a <code class="language-html highlighter-rouge">GET</code> request towards Swedbank Pay with the
<code class="language-html highlighter-rouge">id</code> of the payment received in the first step, which will return the purchase result.</p>

<p class="code-header"><strong>Request</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="nf">GET</span> <span class="nn">/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api.externalintegration.payex.com</span>
<span class="na">Authorization</span><span class="p">:</span> <span class="s">Bearer &lt;AccessToken&gt;</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p class="code-header"><strong>Response</strong></p>

<div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
</pre></td><td class="rouge-code"><pre><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567890</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:29.3182115Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-14T13:21:57.6627579Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"intent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOK"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCaptureAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingCancellationAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingReversalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Purchase"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"payerReference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AB1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"initiatingSystemUserAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PostmanRuntime/3.0.1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"userAgent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mozilla/5.0..."</span><span class="p">,</span><span class="w">
        </span><span class="nl">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nb-NO"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"prices"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/prices"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"payeeInfo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/payeeInfo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/urls"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/transactions"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"authorizations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/authorizations"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"captures"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"reversals"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/reversals"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"cancellations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/cancellations"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"operations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PATCH"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update-payment-abort"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/mobilepay/core/scripts/client/px.mobilepay.client.js?token=5a17c24e-d459-4567-bbad-aa0f17a76119&amp;operation=authorize"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"view-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/javascript"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ecom.externalintegration.payex.com/mobilepay/payments/authorize/ec2a9b09-601a-42ae-8e33-a5737e1cf177"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redirect-authorization"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"text/html"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/mobilepay/payments/7e6cdfc3-1276-44e9-9992-7cf4419750e1/captures"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"create-capture"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/mobilepay/7e6cdfc3-1276-44e9-9992-7cf4419750e1/paid"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"paid-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.externalintegration.payex.com/psp/mobilepay/7e6cdfc3-1276-44e9-9992-7cf4419750e1/failed"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"rel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed-payment"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contentType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/problem+json"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<table class="table table-striped">
  <thead>
    <tr>
      <th style="text-align: left">Field</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">payment</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">payment</code> object contains information about the specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">payment</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">number</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">integer</code></td>
      <td style="text-align: left">The payment  number , useful when there’s need to reference the payment in human communication. Not usable for programmatic identification of the payment, for that  id  should be used instead.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">created</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was created.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">updated</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The ISO-8601 date of when the payment was updated.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">state</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">Ready</code>, <code class="language-html highlighter-rouge">Pending</code>, <code class="language-html highlighter-rouge">Failed</code> or <code class="language-html highlighter-rouge">Aborted</code>. Indicates the state of the payment, not the state of any transactions performed on the payment. To find the state of the payment’s transactions (such as a successful authorization), see the <code class="language-html highlighter-rouge">transactions</code> resource or the different specialized type-specific resources such as <code class="language-html highlighter-rouge">authorizations</code> or <code class="language-html highlighter-rouge">sales</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">object</code></td>
      <td style="text-align: left">The <code class="language-html highlighter-rouge">prices</code> resource lists the prices related to a specific payment.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">prices.id</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The relative URI and unique identifier of the    <code class="language-html highlighter-rouge">prices</code> resource .    Please read about <a href="/home/technical-information#uri-usage">URI Usage</a> to    understand how this and other URIs should be used in your solution.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">description</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string(40)</code></td>
      <td style="text-align: left">A 40 character length textual <a href="/payments/mobile-pay/other-features#description">description</a> of the purchase.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payerReference</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The reference to the payer (consumer/end-user) from the merchant system, like e-mail address, mobile number, customer number etc.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">userAgent</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The <a href="https://en.wikipedia.org/wiki/User_agent">user agent</a> string of the consumer’s browser.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">language</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">sv-SE</code>, <code class="language-html highlighter-rouge">nb-NO</code>, <code class="language-html highlighter-rouge">da-DK</code>, <code class="language-html highlighter-rouge">fi-FI</code> or <code class="language-html highlighter-rouge">ee-EE</code>.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">urls</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  urls  resource where all URIs related to the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left">└➔ <code class="language-html highlighter-rouge">payeeInfo</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The URI to the  payeeinfo  resource where the information about the payee of the payment can be retrieved.</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="language-html highlighter-rouge">operations</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">array</code></td>
      <td style="text-align: left">The array of possible operations to perform</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">method</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The HTTP method to use when performing the operation.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">href</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The target URI to perform the operation against.</td>
    </tr>
    <tr>
      <td style="text-align: left">└─➔ <code class="language-html highlighter-rouge">rel</code></td>
      <td style="text-align: left"><code class="language-html highlighter-rouge">string</code></td>
      <td style="text-align: left">The name of the relation the operation has to the current resource.</td>
    </tr>
  </tbody>
</table>
    
      <h2 id="purchase-flow">
        
        
          Purchase flow <a href="#purchase-flow" class="header-anchor"></a>
        
        
      </h2>

<p>The sequence diagram below shows the two requests you have to send to
Swedbank Pay to make a purchase.
The diagram also shows in high level, the sequence of the process of a
complete purchase.</p>

<pre><code class="language-mermaid">sequenceDiagram
  participant Consumer
  participant Merchant
  participant SwedbankPay as Swedbank Pay
  participant MobilePay_API as MobilePay API
  participant MobilePay_App as MobilePay App

  Consumer-&gt;&gt;Merchant: start purchase (pay with MobilePay)
  activate Merchant

  Merchant-&gt;&gt;SwedbankPay: POST &lt;Create MobilePay Online payment&gt;
  note left of Merchant: First API request
  activate SwedbankPay
  SwedbankPay--&gt;&gt;Merchant: payment resource
  deactivate SwedbankPay
  SwedbankPay --&gt;&gt; SwedbankPay: Create payment
  Merchant--&gt;&gt;Consumer: Redirect to payment page
  note left of Consumer: redirect to MobilePay
  Consumer--&gt;&gt;SwedbankPay: enter mobile number
  activate SwedbankPay

  SwedbankPay--&gt;&gt;MobilePay_API: Initialize MobilePay Online payment
  activate MobilePay_API
  MobilePay_API--&gt;&gt;SwedbankPay: response
  SwedbankPay--&gt;&gt;Consumer: Authorization response (State=Pending)
  note left of Consumer: check your phone
  deactivate Merchant

  MobilePay_API--&gt;&gt;MobilePay_App: Confirm Payment UI
  MobilePay_App--&gt;&gt;MobilePay_App: Confirmation Dialogue
  MobilePay_App--&gt;&gt;MobilePay_API: Confirmation
  MobilePay_API--&gt;&gt;SwedbankPay: make payment
  activate SwedbankPay
  SwedbankPay--&gt;&gt;SwedbankPay: execute payment
  SwedbankPay--&gt;&gt;MobilePay_API: response
  deactivate SwedbankPay
  deactivate MobilePay_API
  SwedbankPay--&gt;&gt;SwedbankPay: authorize result
  SwedbankPay--&gt;&gt;Consumer: authorize result
  Consumer--&gt;&gt;Merchant: Redirect to merchant
  note left of Consumer: Redirect to merchant
  activate Merchant
  SwedbankPay--&gt;&gt;Merchant: Payment Callback
  Merchant--&gt;&gt;SwedbankPay: GET &lt;MobilePay payments&gt;
  note left of Merchant: Second API request
  SwedbankPay--&gt;&gt;Merchant: Payment resource
  deactivate SwedbankPay
  Merchant--&gt;&gt;Consumer: Display authorize result
  deactivate Merchant
</code></pre>

<nav class="iterator d-flex">
    
        <a class="mr-auto btn btn-guiding" role="button" rel="prev" href="index">
            Back: Introduction
        </a>
    

    
        <a class="ml-auto btn btn-executive" role="button" rel="next" href="after-payment">
            Next: After Payment
        </a>
    
</nav>
                                    
                                </div>

                                <div class="col-2 d-none d-lg-block">
                                    <nav class="doc-toc">
                                        <ul>
  <li class="toc-2"><a href="#mobilepay-redirect-integration-flow">MobilePay redirect integration flow</a></li>
  <li class="toc-2"><a href="#step-1-create-a-purchase">Step 1: Create a Purchase</a></li>
  <li class="toc-2"><a href="#step-2-get-the-transaction-status">Step 2: Get the transaction status</a></li>
  <li class="toc-2"><a href="#purchase-flow">Purchase flow</a></li>
</ul>

                                    </nav>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            </div>

            <footer class="page-footer">
                <p class="page-footer-rights">© Swedbank Pay</p>
            </footer>
        </div>

        <script src="https://design.swedbankpay.com/v/4.5.0/scripts/dg.js"></script>
        <script src="/assets/js/swedbank-pay-design-guide-theme.js"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-156582708-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156582708-1');
</script>

        
    </body>
    

</html>
